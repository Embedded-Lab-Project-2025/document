\documentclass[a4paper]{article}

% I made this doc by editing the template at https://www.overleaf.com/latex/templates/trinity-college-dublin-simple-slash-module-report-style/swvvktznrqbd

% Use XeLaTex or LuaLaTex to compile

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper,top=2cm,bottom=2cm,left=2.5cm,right=2.5cm,marginparwidth=1.75cm]{geometry}

\usepackage{fontspec}

\usepackage{tcolorbox}
\tcbuselibrary{minted,breakable,xparse,skins}

% \usepackage{epigraph}

% font for line number
\renewcommand{\theFancyVerbLine}{%
  \textcolor{gray}{\scriptsize\arabic{FancyVerbLine}}%
}

\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage[colorlinks=true,allcolors=.,urlcolor=blue]{hyperref}

\usepackage{indentfirst}
\usepackage{microtype}

\title{Final Report}
\author{Jarn Yam Group}

% \usepackage{fancyhdr}
% \pagestyle{fancy}
% \fancyhead[L]{\docTitle}
% \fancyhead[R]{\authorName}

\usepackage{svg}

% ---------- START DOC CONFIG ----------
\newcommand{\docTitle}{Final Report}
\newcommand{\docSubtitle}{Weather Station}
\newcommand{\authorName}{Weather Station}
\date{}

\usepackage{libertine}
% \setmainfont{CHULALONGKORN}
% \renewcommand{\familydefault}{\sfdefault}
% \setmonofont{JetBrains Mono}[Contextuals=Alternate]
% ----------  END DOC CONFIG  ----------

\begin{document}

\begin{titlepage}
  \vspace*{20pt}

  \centering\Large

  \textbf{Final Report}

  Weather Station

  \vspace*{20pt}

  Group \\ Jarn Yam

  % \vspace*{40pt}
  \vfill

  Members

  \vspace*{20pt}

  \begin{tabular}{lll}
    Sippakorn  & Thunyahan      & 6631355721 \\
    Krissada   & Singhakachain  & 6632007521 \\
    Thanakrit  & Bunrueng       & 6632092821 \\
    Boonyakorn & Tanrattanakorn & 6632111021
  \end{tabular}

  \vfill

  Presented to \\ \textbf{Asst. Prof. Dr. Pitchaya Sitthi-amorn}

  \vfill

  %   Dec 9\textsuperscript{th}, 2025
  %   \vspace*{20pt}

  2110366 Embedded System Lab I \\
  Semester 1/2025 \\
  Department of Computer Engineering, Faculty of Engineering, \\
  Chulalongkorn University
\end{titlepage}

\tableofcontents
\newpage

\section{Project Description}

\section{Equipment}


\section{System Architecture}
\subsection{Weather Station Subsystem}
  The Weather Station Subsytem is responsible for collecting weather data from the environment, namely temperature, 
  humidity, light intensity, and liquid precipitation. 

  The subsystem utilizes STM32 nucleo f411 board as the primary microcontroller unit (MCU) to interface with the sensors.
  The STM32 then processes the raw data from the sensors and transmits the processed data to ESP32S3 via UART communication protocol.
  Finally, the ESP32S3 sends the data to the cloud server through MQTT to be displayed on the web application.
  \subsubsection{Sensors}
  \begin{enumerate}
    \item DHT22: Temperature and Humidity Sensor
      \begin{itemize}
        \item Interface: One-wire digital communication
        \item Data: Temperature (Â°C), Humidity (\%)
      \end{itemize}
    \item Light Dependent Resistor (LDR)
      \begin{itemize}
        \item Interface: Analog voltage reading
        \item Data: LightIntensity (\%)
      \end{itemize}
    \item Water Level Sensor: Liquid Precipitation Sensor
      \begin{itemize}
        \item Interface: Analog voltage reading
        \item Data: WaterLevel (mm)
      \end{itemize}
  \end{enumerate}
\subsubsection{STM32 to ESP32S3 Communication}
  The STM32 microcontroller communicates with the ESP32S3 using UART protocol.
  The ESP32S3 then sends a char 'R' to request data from the STM32.
  Upon receiving the request, the STM32 respond with the latest data packet.
  The data packet is sent as a raw byte stream with the following structure:
  \begin{itemize}
    \item Start Byte: 0xAA uint8\_t
    \item Temperature: uint8\_t
    \item Humidity: uint8\_t
    \item Light Intensity: float
    \item Water Level: float
    \item Checksum: uint8\_t 
  \end{itemize}
  
\subsection{Source Code}
\subsection{Diagram}
% TODO: change to a more professional diagram
\begin{figure}[H]
  \centering
  \includegraphics[width=\textwidth]{assets/system_overview_diagram.png}
  \caption{System overview diagram}
\end{figure}

\section{Role and Responsibility}


\end{document}